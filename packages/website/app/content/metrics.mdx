# Metrics reference

All metrics are color-coded using Web Vitals thresholds:

| Status | Meaning |
|--------|---------|
| ðŸŸ¢ Green | Good â€” meets targets |
| ðŸŸ¡ Yellow | Needs improvement â€” may cause issues |
| ðŸ”´ Red | Poor â€” likely causing issues |

## Key thresholds

| Metric | ðŸŸ¢ Good | ðŸŸ¡ Needs work | ðŸ”´ Poor |
|--------|---------|---------------|---------|
| FPS | â‰¥55 | 30â€“55 | &lt;30 |
| Frame time | â‰¤16.67ms | 16.67â€“32ms | &gt;32ms |
| Input latency | â‰¤16ms | 16â€“50ms | &gt;50ms |
| INP | â‰¤200ms | 200â€“500ms | &gt;500ms |
| CLS | &lt;0.1 | 0.1â€“0.25 | &gt;0.25 |
| TBT | &lt;200ms | 200â€“600ms | &gt;600ms |

---

## Frame timing

Measures rendering smoothness using a `requestAnimationFrame` loop.

| Metric | What it tells you |
|--------|-------------------|
| **FPS** | Frames per second. Target: 60. |
| **Frame time** | Average milliseconds per frame. Target: â‰¤16.67ms. |
| **Dropped frames** | Frames exceeding twice the expected frame time. |
| **Frame jitter** | Sudden spikes in frame time compared to the baseline. |
| **Frame stability** | A percentage indicating how consistent frame times are. |

---

## Input responsiveness

Measures interaction latency using the [Event Timing API](https://w3c.github.io/event-timing/).

| Metric | What it tells you |
|--------|-------------------|
| **INP** | Interaction to Next Paint â€” the p98 of worst interactions. A Core Web Vital. |
| **Input latency** | Time from pointer event to next animation frame. |
| **FID** | First Input Delay â€” latency of the very first interaction. |
| **Paint time** | Browser rendering time measured via a double-`requestAnimationFrame` technique. |
| **Last interaction** | Real-time details of the most recent interaction. Click **Inspect** to highlight the target. |
| **Slowest interaction** | The worst interaction recorded, for debugging. Click **Inspect** to highlight the target. |

### INP breakdown

Each interaction includes a timing breakdown:

```
[wait Xms] â†’ [js Xms] â†’ [paint Xms]
```

- **Wait (input delay)** â€” time before JavaScript starts processing. High values mean the main thread was blocked.
- **JS (processing time)** â€” time spent in event handlers. High values mean expensive handler logic.
- **Paint (presentation delay)** â€” time from handler completion to the visual update. High values mean expensive rendering.

---

## Main thread health

Detects main thread blocking via the [Long Tasks API](https://w3c.github.io/longtasks/).

| Metric | What it tells you |
|--------|-------------------|
| **Long tasks** | Tasks blocking the main thread for more than 50ms. |
| **Total blocking time** | Sum of `(duration âˆ’ 50ms)` for all long tasks. Aligns with the Lighthouse TBT metric. |
| **Thrashing** | Style writes followed by long frames, indicating forced synchronous layout. |
| **DOM churn** | Rate of DOM mutations per measurement period. |

---

## Long animation frames

Detailed frame attribution via the [Long Animation Frames API](https://w3c.github.io/long-animation-frames/). Available in **Chrome 123+** and **Edge 123+**.

| Metric | What it tells you |
|--------|-------------------|
| **LoAF count** | Number of animation frames exceeding 50ms. |
| **Blocking duration** | Total and longest blocking time from long animation frames. |
| **P95 duration** | 95th percentile LoAF duration. |
| **Script attribution** | Which scripts caused slow frames â€” including source URL, function name, and invoker type. |

Script attribution helps you pinpoint exactly which code is responsible for slow frames: event listeners, user callbacks, promise handlers, and more.

---

## Element timing

Tracks render timing for elements marked with the `elementtiming` attribute via the [Element Timing API](https://wicg.github.io/element-timing/).

| Metric | What it tells you |
|--------|-------------------|
| **Element count** | Number of tracked elements on the page. |
| **Largest render time** | The slowest element to render. Similar to LCP, but for your chosen elements. |
| **Individual elements** | Render time for each tracked element. |

### Usage

```html
<img src="/hero.jpg" elementtiming="hero-image" />
<div elementtiming="main-content">Key content</div>
```

---

## Layout stability

CLS measurement via the [Layout Instability API](https://wicg.github.io/layout-instability/) with session windowing per the Web Vitals specification.

| Metric | What it tells you |
|--------|-------------------|
| **CLS** | Cumulative Layout Shift score. A Core Web Vital. |
| **Forced reflows** | Layout property reads that occurred after style writes, forcing synchronous layout. |
| **Style writes** | Inline style mutations observed via `MutationObserver`. |

---

## React performance

React-specific metrics from the [React Profiler API](https://react.dev/reference/react/Profiler). Only available when using the default (React) addon entry â€” hidden when using `./universal`.

| Metric | What it tells you |
|--------|-------------------|
| **Mount count and duration** | How many times components mounted and how long each mount took. |
| **Slow updates** | React updates that exceeded the 16ms frame budget. Even one is worth investigating. |
| **P95 duration** | 95th percentile React update time. Represents worst-case user experience. |
| **Render cascades** | Nested updates during the commit phase â€” typically `setState` inside `useLayoutEffect`. Very expensive. |

---

## Memory and resources

JS heap introspection via `performance.memory`. **Chrome only.**

| Metric | What it tells you |
|--------|-------------------|
| **Heap usage** | Current JS heap size. |
| **Memory delta** | Change from baseline since the last reset. |
| **GC pressure** | Memory allocation rate in MB/s. High values mean frequent garbage collection. |
| **Compositor layers** | Elements promoted to GPU layers. |
